error[E0271]: type mismatch resolving `<Result<Result<(), Result<Result<(), Result<Result<(), Option<{integer}>>, ...>>, ...>>, ...> as Future>::Error == Foo`
  --> $DIR/E0271.rs:18:5
   |
LL | /     Box::new(
LL | |         Ok::<_, ()>(
LL | |             Err::<(), _>(
LL | |                 Ok::<_, ()>(
...  |
LL | |         )
LL | |     )
   | |_____^ type mismatch resolving `<Result<Result<(), Result<Result<(), ...>, ...>>, ...> as Future>::Error == Foo`
   |
note: expected this to be `Foo`
  --> $DIR/E0271.rs:8:18
   |
LL |     type Error = E;
   |                  ^
   = note: required for the cast from `Result<Result<..., ...>, ...>` to the object type `dyn Future<Error = Foo>`
   = note: the full name for the casted type has been written to '$TEST_BUILD_DIR/diagnostic-width/E0271/E0271.long-type-hash.txt'

error: aborting due to previous error

For more information about this error, try `crablangc --explain E0271`.
